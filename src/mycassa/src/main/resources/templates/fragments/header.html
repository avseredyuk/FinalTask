<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">



<body>
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
		integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
		crossorigin="anonymous"></script>
	<div th:fragment="copy">
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
			<div class=" d-flex justify-content-xl-between sectionMainContent navbar-collapse"
				id="navbarSupportedContent">


				<ul class="navbar-nav mr-auto">
					<li class="nav-item active">
						<a class="navbar-brand" href="/welcome">MyCassa</a>

					</li>
					<li class="nav-item active" sec:authorize="hasAuthority('COMMODITY_EXPERT')">
						<a class="nav-link" href="/products" th:text="#{products}">Products</a>
					</li>
					<li class="nav-item active" sec:authorize="hasAuthority('CASHIER')">
						<a class="nav-link" th:href="@{/sessions/new}" th:text="#{session.new}">New session</a>
					</li>
					<!--<form th:action="@{/sessions/new}" type="post">
					<li class="nav-item active" sec:authorize="hasAuthority('CASHIER')">
						<button class="btn btn-link nav-item active defLink" id="defLinkHeader"  
						th:text="#{session.new}" type"submit">New session</button>
					</li>
					</form>-->
					<li class="nav-item active" sec:authorize="hasAnyAuthority('SENIOR_CASHIER')">
						<a class="nav-link" href="/cashiers" th:text="#{сashiers}">Cashiers</a>
					</li>

					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
							aria-haspopup="true" aria-expanded="false" th:text="#{lang.change}">
							Language
						</a>
						<div class="dropdown-menu" aria-labelledby="navbarDropdown">
							<a class="dropdown-item" href="?lang=en" th:text="#{lang.eng}">English</a>
							<a class="dropdown-item" href="?lang=ru" th:text="#{lang.ru}">Russian</a>
						</div>
					</li>
				</ul>

				<div class="form-inline my-2 my-lg-0">

					<div class="form-inline my-2 my-lg-0" sec:authorize="isAnonymous()">
						<form th:action="@{/login}">
							<button class="btn btn-link my-2 my-sm-0" id="signin" type="submit"
								th:text="#{sign.in}">Sign in</button>
						</form>

						<form th:action="@{/registration}">
							<button class="mx-3 btn btn-success" type="submit" th:text="#{sign.up}">Sign up</button>
						</form>
					</div>
					<div class="form-inline my-2 my-lg-0" sec:authorize="isAuthenticated()">
						<div class="navbar-nav mr-auto">
							<!-- ul -->
							<div class="nav-item dropdown">
								<!-- li -->
								<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
									data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
									<span sec:authentication="name" class=" mr-1">Email</span>
									<span class="badge badge-info mr-1 "
										sec:authorize="hasAnyAuthority('SENIOR_CASHIER')"
										th:text="#{role.seniorcashier}">
										Senior cashier
									</span>
									<span class="badge badge-success mr-1 " sec:authorize="hasAnyAuthority('CASHIER')"
										th:text="#{role.cashier}">
										Cashier
									</span>
									<span class="badge badge-danger mr-1 "
										sec:authorize="hasAnyAuthority('COMMODITY_EXPERT')"
										th:text="#{role.commodityexpert}">
										Commodity expert
									</span>
									<span class="mr-1">
										<img th:src="@{/images/icons/user.png}" height="33" width="33">
									</span>
								</a>
								<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
									<a class="dropdown-item" href="/profile" th:text="#{profile}">Profile</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item" href="/logout" th:text="#{log.out}">Log out</a>
								</div>

							</div>
						</div>


						<!-- <div sec:authorize="hasAuthority('COMMODITY_EXPERT')">
	
	
							</div> -->

						<!-- <form th:action="@{/logout}">
								<button class="mx-3 btn btn-success" type="submit" th:text="#{log.out}">Log out</button>
							</form> -->
					</div>
				</div>


			</div>
		</nav>
	</div>



</body>

</html>